<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªç„¶ä¹‹å£°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: url('picture/é¼ æ ‡.cur') 0 0, auto;
        }

        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .background {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            transition: filter 1.5s ease;
        }

        .background.darken {
            filter: brightness(0.3);
        }

        .foreground {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 2;
            transition: transform 1.5s ease;
        }

        .foreground.zoom {
            transform: scale(2.5);
        }

        .start-button {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px 40px;
            font-size: 32px;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid white;
            border-radius: 10px;
            z-index: 3;
            transition: all 0.5s ease;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            cursor: url('picture/ç‚¹å‡»é¼ æ ‡.cur'), pointer;
            display: inline-block;
            width: auto;
            min-width: 200px;
            text-align: center;
        }

        .start-button:hover {
            background: rgba(0, 0, 0, 0.7);
            transform: translate(-50%, -50%) scale(1.05);
        }

        .start-button.hide {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            pointer-events: none;
        }

        .journey-image {
            position: absolute;
            width: 300px;
            height: auto;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            opacity: 0;
            z-index: 4;
            transition: opacity 1s ease, transform 0.3s ease;
            transform-origin: top center;
            cursor: url('picture/ç‚¹å‡»é¼ æ ‡.cur'), pointer;
            pointer-events: none;
        }

        .journey-image.show {
            opacity: 1;
            pointer-events: auto;
        }

        .journey-image:hover:not(.fall) {
            animation: sway 1.5s ease-in-out infinite;
        }

        .journey-image.fall {
            animation: fall 2s ease-in forwards;
            pointer-events: none;
        }

        @keyframes sway {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(2deg);
            }
            75% {
                transform: rotate(-2deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }

        @keyframes fall {
            0% {
                transform: rotate(0deg);
            }
            20% {
                transform: rotate(10deg);
            }
            40% {
                transform: rotate(-10deg);
            }
            60% {
                transform: rotate(5deg);
            }
            80% {
                transform: rotate(-5deg);
            }
            100% {
                transform: rotate(0deg) translateY(100vh);
            }
        }

        .image-text {
            position: absolute;
            top: 15%;
            left: 5%;
            color: white;
            font-size: 24px;
            letter-spacing: 2px;
            line-height: 1.5;
            text-align: left;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                         0 0 20px rgba(255, 255, 255, 0.5),
                         0 0 30px rgba(255, 255, 255, 0.3);
            z-index: 4;
            opacity: 0;
            transition: opacity 1s ease;
            width: 300px;
        }

        .image-text.show {
            opacity: 1;
        }

        /* Så½¢å¸ƒå±€çš„6ä¸ªä½ç½® */
        .journey-image:nth-child(1) {
            top: 15%;
            left: 5%;
        }

        .journey-image:nth-child(2) {
            top: 15%;
            left: 35%;
        }

        .journey-image:nth-child(3) {
            top: 15%;
            left: 65%;
        }

        .journey-image:nth-child(4) {
            top: 55%;
            left: 65%;
        }

        .journey-image:nth-child(5) {
            top: 55%;
            left: 35%;
        }

        .journey-image:nth-child(6) {
            top: 55%;
            left: 5%;
        }

        .leaf, .flower {
            position: absolute;
            pointer-events: none;
            z-index: 2;
        }

        .leaf {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #7cba3c, #4a8c20);
            transform-origin: center;
        }

        .leaf.triangle {
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .leaf.diamond {
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }

        .leaf.parallelogram {
            clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
        }

        .flower {
            width: 20px;
            height: 20px;
            background: #ff69b4;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        @keyframes fadeInOut {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
            }
            100% {
                transform: translateY(0) rotate(360deg);
            }
        }

        .continue-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 30px;
            font-size: 24px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid white;
            border-radius: 10px;
            cursor: url('picture/ç‚¹å‡»é¼ æ ‡.cur'), pointer;
            z-index: 5;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .continue-button.show {
            opacity: 1;
            transform: translateY(0);
        }

        .continue-button:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-3px);
        }

        .fade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
            transition: opacity 2s ease;
        }

        .fade-overlay.active {
            opacity: 1;
        }

        .poetic-text {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 36px;
            letter-spacing: 8px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                         0 0 20px rgba(255, 255, 255, 0.5),
                         0 0 30px rgba(255, 255, 255, 0.3);
            z-index: 3;
            opacity: 0;
            transition: opacity 1s ease;
            animation: glow 6s ease-in-out infinite;
        }

        @keyframes glow {
            0% {
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                            0 0 20px rgba(255, 255, 255, 0.5),
                            0 0 30px rgba(255, 255, 255, 0.3);
            }
            25% {
                text-shadow: 0 0 15px rgba(255, 255, 255, 0.9),
                            0 0 25px rgba(255, 255, 255, 0.7),
                            0 0 35px rgba(255, 255, 255, 0.5);
            }
            50% {
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.4),
                            0 0 10px rgba(255, 255, 255, 0.2),
                            0 0 15px rgba(255, 255, 255, 0.1);
            }
            75% {
                text-shadow: 0 0 15px rgba(255, 255, 255, 0.9),
                            0 0 25px rgba(255, 255, 255, 0.7),
                            0 0 35px rgba(255, 255, 255, 0.5);
            }
            100% {
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                            0 0 20px rgba(255, 255, 255, 0.5),
                            0 0 30px rgba(255, 255, 255, 0.3);
            }
        }

        .poetic-text.show {
            opacity: 1;
        }

        .large-image-container {
            position: fixed;
            bottom: -100%;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            z-index: 5;
            transition: bottom 1s ease;
        }

        .large-image-container.show {
            bottom: 0;
        }

        .large-image {
            width: 35%;
            height: auto;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
            transform: translateY(100%) rotate(0deg);
            transition: transform 1s ease;
            margin-right: -50px;
        }

        .large-image-container.show .large-image {
            transform: translateY(0) rotate(var(--tilt-angle));
        }

        .dialog-box {
            width: 40%;
            padding: 30px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid white;
            border-radius: 15px;
            color: white;
            font-size: 24px;
            line-height: 1.6;
            text-align: left;
            transform: translateY(100%);
            transition: transform 1s ease;
            opacity: 0;
            margin-top: -100px;
            margin-left: 80px;
            min-height: 600px;
            overflow: visible;
            padding-bottom: 30px;
        }

        .question-box {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            min-height: 300px;
        }

        .question {
            font-size: 20px;
            margin-bottom: 15px;
            color: #fff;
            transition: opacity 0.5s ease;
        }

        .question.fade-out {
            opacity: 0;
        }

        .option {
            display: block;
            margin: 10px 0;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            cursor: url('picture/ç‚¹å‡»é¼ æ ‡.cur'), pointer;
            transition: all 0.5s ease;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .option.selected {
            position: absolute;
            top: 20px;
            left: 0;
            right: auto;
            width: 100%;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid white;
            transform: translateY(0) !important;
            z-index: 1;
            margin-bottom: 0;
            padding-bottom: 30px;
        }

        .option.selected::after {
            content: attr(data-analysis);
            display: block;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 18px;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
            max-height: none;
            margin-bottom: 30px;
        }

        .option.selected.loading::after {
            content: 'æ£®æ—æ­£åœ¨è½»å£°ä¸ä½ å¯¹è¯.';
            animation: loading 1.5s infinite;
            opacity: 1;
            transform: translateY(0);
        }

        @keyframes loading {
            0% { content: 'æ£®æ—æ­£åœ¨è½»å£°ä¸ä½ å¯¹è¯.'; }
            33% { content: 'æ£®æ—æ­£åœ¨è½»å£°ä¸ä½ å¯¹è¯..'; }
            66% { content: 'æ£®æ—æ­£åœ¨è½»å£°ä¸ä½ å¯¹è¯...'; }
        }

        @keyframes loading2 {
            0% { content: 'é£åœ¨ç¿»é˜…ä½ çš„æ€§æ ¼æ ‘å¶ï¼Œè¯·ç¨å€™.'; }
            33% { content: 'é£åœ¨ç¿»é˜…ä½ çš„æ€§æ ¼æ ‘å¶ï¼Œè¯·ç¨å€™..'; }
            66% { content: 'é£åœ¨ç¿»é˜…ä½ çš„æ€§æ ¼æ ‘å¶ï¼Œè¯·ç¨å€™...'; }
        }

        @keyframes loading3 {
            0% { content: 'ä½ èµ°è¿‡äº†æºªè¾¹ï¼Œç­”æ¡ˆå°±è—åœ¨ä½ çš„è„šå°é‡Œ.'; }
            33% { content: 'ä½ èµ°è¿‡äº†æºªè¾¹ï¼Œç­”æ¡ˆå°±è—åœ¨ä½ çš„è„šå°é‡Œ..'; }
            66% { content: 'ä½ èµ°è¿‡äº†æºªè¾¹ï¼Œç­”æ¡ˆå°±è—åœ¨ä½ çš„è„šå°é‡Œ...'; }
        }

        @keyframes loading4 {
            0% { content: 'è®©æˆ‘ä»¬æ…¢æ…¢å‘¼å¸ï¼Œç­”æ¡ˆæ­£åœ¨é è¿‘.'; }
            33% { content: 'è®©æˆ‘ä»¬æ…¢æ…¢å‘¼å¸ï¼Œç­”æ¡ˆæ­£åœ¨é è¿‘..'; }
            66% { content: 'è®©æˆ‘ä»¬æ…¢æ…¢å‘¼å¸ï¼Œç­”æ¡ˆæ­£åœ¨é è¿‘...'; }
        }

        @keyframes loading5 {
            0% { content: 'æ ‘æ¢¢ä¸Šçš„é¸Ÿå„¿æ­£åœ¨è®¨è®ºä½ çš„ç­”æ¡ˆ.'; }
            33% { content: 'æ ‘æ¢¢ä¸Šçš„é¸Ÿå„¿æ­£åœ¨è®¨è®ºä½ çš„ç­”æ¡ˆ..'; }
            66% { content: 'æ ‘æ¢¢ä¸Šçš„é¸Ÿå„¿æ­£åœ¨è®¨è®ºä½ çš„ç­”æ¡ˆ...'; }
        }

        @keyframes loading6 {
            0% { content: 'æ£®æ—ç²¾çµæ‚„æ‚„è·‘å»æ‹¿ç­”æ¡ˆäº†ï¼Œç­‰ç­‰å®ƒå›æ¥ï½'; }
            33% { content: 'æ£®æ—ç²¾çµæ‚„æ‚„è·‘å»æ‹¿ç­”æ¡ˆäº†ï¼Œç­‰ç­‰å®ƒå›æ¥ï½'; }
            66% { content: 'æ£®æ—ç²¾çµæ‚„æ‚„è·‘å»æ‹¿ç­”æ¡ˆäº†ï¼Œç­‰ç­‰å®ƒå›æ¥ï½'; }
        }

        .option.selected.show-analysis::after {
            opacity: 1;
            transform: translateY(0);
            animation: none;
        }

        .option.fade-out {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }

        .analysis {
            margin-top: 10px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 18px;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            max-width: 100%;
        }

        .analysis.show {
            opacity: 1;
            transform: translateY(0);
        }

        .large-image-container.show .dialog-box {
            transform: translateY(0);
            opacity: 1;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 4;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .return-arrow {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            border-radius: 50%;
            cursor: url('picture/ç‚¹å‡»é¼ æ ‡.cur'), pointer;
            z-index: 6;
            opacity: 0;
            transform: translateX(-100px);
            transition: all 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .return-arrow::before {
            content: 'â†';
            color: white;
            font-size: 30px;
            font-weight: bold;
        }

        .return-arrow.show {
            opacity: 1;
            transform: translateX(0);
        }

        .return-arrow:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .initial-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 36px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                         0 0 20px rgba(255, 255, 255, 0.5),
                         0 0 30px rgba(255, 255, 255, 0.3),
                         2px 2px 4px rgba(0, 0, 0, 0.8);
            z-index: 10000;
            opacity: 1;
            transition: opacity 2s ease;
            letter-spacing: 4px;
        }
    </style>
</head>
<body>
    <div class="fade-overlay"></div>
    <img src="picture/åæ™¯.png" alt="èƒŒæ™¯" class="background">
    <img src="picture/å‰æ™¯.png" alt="å‰æ™¯" class="foreground">
    <div class="poetic-text">é—­ä¸Šçœ¼ï¼Œé£å’Œæ ‘éƒ½åœ¨æ‚„æ‚„ç­‰ä½ ã€‚</div>
    <div class="start-button">å¼€å§‹æ—…è¡Œ</div>
    <div class="continue-button">ç»§ç»­å‰è¡Œ</div>
    <audio id="backgroundMusic" loop autoplay>
        <source src="music/å¼€å¤´èƒŒæ™¯éŸ³.mp3" type="audio/mpeg">
    </audio>
    <audio id="tearSound1">
        <source src="music/çº¸ç‰‡å£°1.mp3" type="audio/mpeg">
    </audio>
    <audio id="tearSound2">
        <source src="music/çº¸ç‰‡å£°2.mp3" type="audio/mpeg">
    </audio>
    <audio id="tearSound3">
        <source src="music/çº¸ç‰‡å£°3.mp3" type="audio/mpeg">
    </audio>

    <!-- æ—…ç¨‹å›¾ç‰‡å®¹å™¨ -->
    <div id="journey-container"></div>
    <div class="overlay"></div>
    <div class="large-image-container"></div>
    <div class="return-arrow"></div>

    <script>
        // åˆ›å»ºå¶å­å’ŒèŠ±æœµ
        function createElements() {
            const container = document.body;
            
            // åˆ›å»ºå¶å­
            for (let i = 0; i < 50; i++) {
                const leaf = document.createElement('div');
                leaf.className = 'leaf';
                
                // éšæœºé€‰æ‹©å¶å­å½¢çŠ¶
                const shapes = ['triangle', 'diamond', 'parallelogram'];
                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
                leaf.classList.add(randomShape);
                
                // éšæœºä½ç½®
                leaf.style.left = Math.random() * 100 + 'vw';
                leaf.style.top = Math.random() * 100 + 'vh';
                
                // éšæœºåŠ¨ç”»æ—¶é•¿å’Œå»¶è¿Ÿ
                const duration = Math.random() * 5 + 5;
                const delay = Math.random() * 5;
                leaf.style.animation = `float ${duration}s infinite ${delay}s`;
                
                // éšæœºé€æ˜åº¦å’Œå¤§å°
                leaf.style.opacity = Math.random() * 0.5 + 0.5;
                const size = Math.random() * 20 + 20; // 20-40px
                leaf.style.width = size + 'px';
                leaf.style.height = size + 'px';
                
                container.appendChild(leaf);
            }

            // åˆ›å»ºèŠ±æœµ
            for (let i = 0; i < 15; i++) {
                const flower = document.createElement('div');
                flower.className = 'flower';
                
                // éšæœºä½ç½®
                flower.style.left = Math.random() * 100 + 'vw';
                flower.style.top = Math.random() * 100 + 'vh';
                flower.style.animation = `float ${Math.random() * 5 + 5}s infinite`;
                flower.style.opacity = Math.random() * 0.5 + 0.5;
                container.appendChild(flower);
            }
        }

        // åˆ›å»ºæ—…ç¨‹å›¾ç‰‡
        function createJourneyImages() {
            const container = document.getElementById('journey-container');
            
            // åˆ›å»º6å¼ å›¾ç‰‡
            for (let i = 1; i <= 6; i++) {
                const img = document.createElement('img');
                img.src = `picture/å›¾${i}.png`;
                img.className = 'journey-image';
                img.alt = `Journey Image ${i}`;
                container.appendChild(img);
            }

            // å›¾ç‰‡å¯¹åº”çš„æ–‡å­—å’Œé—®é¢˜
            const imageTexts = [
                '"ä½ ç«™åœ¨æ—å¤–ï¼Œ<br>é£ä»æ ‘é—´é£˜æ¥ï¼Œ<br>åƒæ˜¯åœ¨é‚€è¯·ä½ é è¿‘ã€‚"',
                '"è„šä¸‹çš„é’è‹”æŸ”è½¯å¾—<br>åƒæŸç§æ¸©æŸ”çš„è¯­è¨€ã€‚"',
                '"æºªæ°´ä½å£°è¯‰è¯´ï¼Œ<br>ä½ å¬æ‡‚äº†å®ƒçš„å®é™ã€‚"',
                '"å±‹å­é‡Œæ²¡æœ‰äººï¼Œ<br>å´ç‚¹äº®äº†ä¸€ç›ç¯ï¼Œ<br>å¥½åƒç­‰ä½ å¾ˆä¹…ã€‚"',
                '"ä½ ä¸å†åªæ˜¯èµ°åœ¨æ—ä¸­ï¼Œ<br>ä½ å°±æ˜¯è¿™ç‰‡æ£®æ—çš„ä¸€éƒ¨åˆ†ã€‚"',
                '"é—­ä¸Šçœ¼ï¼Œ<br>é£ä¸å¶çš„ä½è¯­<br>ä¼šå¸¦ä½ ç»§ç»­å‰è¡Œã€‚"'
            ];

            const questions = [
                {
                    question: "Q1. ä½ èµ°è¿›æ£®æ—çš„ç¬¬ä¸€ååº”æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: [
                        "A. å‘¼å¸å˜å¾—ç¼“æ…¢ï¼Œæƒ³é™é™åœ°æ„Ÿå—ä¸€åˆ‡",
                        "B. ç¯é¡¾å››å‘¨ï¼Œè§‚å¯Ÿè·¯å¾„å’Œç¯å¢ƒ",
                        "C. æƒ³å»æ¢ç´¢æ·±å¤„ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æœªçŸ¥ç”Ÿç‰©",
                        "D. ç«‹åˆ»æå‡ºç›¸æœºï¼Œæƒ³è®°å½•ä¸‹è¿™ä»½ç¾ä¸½"
                    ]
                },
                {
                    question: "Q2. å¦‚æœä½ æ˜¯æ£®æ—ä¸­çš„ä¸€ç§æ¤ç‰©ï¼Œä½ è§‰å¾—ä½ æ˜¯å“ªç§ï¼Ÿ",
                    options: [
                        "A. é’è‹”ï¼šä¸èµ·çœ¼ä½†èƒ½åœ¨è§’è½é¡½å¼ºç”Ÿé•¿",
                        "B. ç™½æ¡¦æ ‘ï¼šé«˜å¤§è€Œæ¸©æŸ”ï¼Œå®ˆæŠ¤ä»–äºº",
                        "C. é£ä¸­è’²å…¬è‹±ï¼šéšé£è€ŒåŠ¨ï¼Œä¸å—æ‹˜æŸ",
                        "D. æ£®æ—ä¸­çš„è˜‘è‡ï¼šç¥ç§˜åˆä¸æ˜“è¢«çœ‹é€"
                    ]
                },
                {
                    question: "Q3. æ£®æ—ä¸­ä¼ æ¥åŠ¨ç‰©çš„å«å£°ï¼Œä½ è§‰å¾—é‚£æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: [
                        "A. æ˜¯é¸Ÿå„¿åœ¨å”±æ­Œï¼Œåƒä¸€é¦–æ£®æ—çš„æ—©å®‰æ›²",
                        "B. æ˜¯ç‹ç‹¸åœ¨æ²Ÿé€šï¼Œåƒæ˜¯è®²ç€ä¸€ä¸ªç§˜å¯†æ•…äº‹",
                        "C. æ˜¯æŸç§ä½ ä»æœªå¬è¿‡çš„åŠ¨ç‰©ï¼Œè®©ä½ å……æ»¡å¥½å¥‡",
                        "D. ä½ å¬ä¸æ¸…ï¼Œä½†è§‰å¾—é‚£æ˜¯ä¸€ç§æ¥è‡ªè¿œå¤çš„å›å£°"
                    ]
                },
                {
                    question: "Q4. ä½ èµ°è¿›æ£®æ—æ·±å¤„çš„å°æœ¨å±‹ï¼Œæœ€æƒ³åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Ÿ",
                    options: [
                        "A. åœ¨å¨æˆ¿é‡Œæ³¡ä¸€å£¶çƒ­èŒ¶ï¼Œå’Œæœ‹å‹åˆ†äº«",
                        "B. æ‰¾ä¸€ä¸ªè§’è½é çª—çš„ä½ç½®é™é™å‘å‘†",
                        "C. æ‰“å¼€é—¨çª—ï¼Œè®©é˜³å…‰å’Œé£è‡ªç”±æµåŠ¨",
                        "D. ç¿»å¼€ä¹¦æ¶ä¸Šçš„æ—§ä¹¦ï¼Œæ²‰æµ¸åœ¨æ–‡å­—é‡Œ"
                    ]
                },
                {
                    question: "Q5. ä½ æƒ³å’Œå“ªç§æ£®æ—åŠ¨ç‰©æˆä¸ºæœ‹å‹ï¼Ÿ",
                    options: [
                        "A. ä¸€åªèªæ˜çš„çŒ«å¤´é¹°",
                        "B. ä¸€åªçµå·§çš„ç‹ç‹¸",
                        "C. ä¸€åªå¿«ä¹çš„å°é¹¿",
                        "D. ä¸€åªå®‰é™çš„ä¹Œé¾Ÿ"
                    ]
                },
                {
                    question: "Q6. ä½ çœ‹åˆ°ä¸€æ¡åˆ†å²”å°è·¯ï¼Œä½ ä¼šé€‰æ‹©ï¼š",
                    options: [
                        "A. é€šå¾€é˜³å…‰æ´’è½çš„å¼€é˜”è‰åœ°",
                        "B. ä¸€æ¡æ›²æŠ˜ä½†è¢«è‹”è—“è¦†ç›–çš„å°é“",
                        "C. ä¸€æ¡å‡ ä¹è¢«è—¤è”“é®æŒ¡çš„ç¥ç§˜å°å¾„",
                        "D. åŸåœ°åä¸‹ï¼Œä¸èµ°äº†ï¼Œåªæƒ³é™é™å¾…ç€"
                    ]
                }
            ];

            // ä¸ºæ¯å¼ å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶
            const images = document.querySelectorAll('.journey-image');
            const tearSounds = [
                document.getElementById('tearSound1'),
                document.getElementById('tearSound2'),
                document.getElementById('tearSound3'),
                document.getElementById('tearSound2'),
                document.getElementById('tearSound1'),
                document.getElementById('tearSound3')
            ];
            
            const largeImageContainer = document.querySelector('.large-image-container');
            const overlay = document.querySelector('.overlay');
            const returnArrow = document.querySelector('.return-arrow');
            
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    // æ’­æ”¾å¯¹åº”çš„æ’•çº¸å£°
                    const sound = tearSounds[index];
                    sound.currentTime = 0;
                    sound.play();
                    
                    // æ·»åŠ æ‰è½åŠ¨ç”»
                    this.classList.add('fall');
                    
                    // åˆ›å»ºå¹¶æ˜¾ç¤ºå¤§å›¾å’Œå¯¹è¯æ¡†
                    setTimeout(() => {
                        // éšæœºç”Ÿæˆå€¾æ–œè§’åº¦ï¼ˆ-10åˆ°10åº¦ä¹‹é—´ï¼‰
                        const tiltAngle = (Math.random() * 20 - 10);
                        largeImageContainer.style.setProperty('--tilt-angle', `${tiltAngle}deg`);
                        
                        largeImageContainer.innerHTML = `
                            <img src="${this.src}" class="large-image" alt="Large Journey Image">
                            <div class="dialog-box">
                                ${imageTexts[index].replace(/<br>/g, '\n')}
                                <div class="question-box">
                                    <div class="question">${questions[index].question}</div>
                                    ${questions[index].options.map(option => 
                                        `<div class="option">${option}</div>`
                                    ).join('')}
                                </div>
                            </div>
                        `;
                        largeImageContainer.classList.add('show');
                        overlay.classList.add('show');
                        returnArrow.classList.add('show');

                        // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
                        const options = largeImageContainer.querySelectorAll('.option');
                        options.forEach(option => {
                            option.addEventListener('click', async function() {
                                // ç§»é™¤å…¶ä»–é€‰é¡¹çš„ç‚¹å‡»äº‹ä»¶
                                options.forEach(opt => {
                                    opt.style.pointerEvents = 'none';
                                });

                                // æ·»åŠ é€‰ä¸­æ•ˆæœ
                                this.classList.add('selected');

                                // éšè—é—®é¢˜å’Œæœªé€‰ä¸­çš„é€‰é¡¹
                                const question = this.parentElement.querySelector('.question');
                                question.classList.add('fade-out');
                                
                                options.forEach(opt => {
                                    if (opt !== this) {
                                        opt.classList.add('fade-out');
                                    }
                                });

                                // è°ƒç”¨ DeepSeek API è·å–è§£æ
                                this.classList.add('loading');
                                this.style.animation = `loading${index + 1} 1.5s infinite`;
                                try {
                                    const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                                        method: 'POST',
                                        headers: {
                                            'Content-Type': 'application/json',
                                            'Authorization': 'Bearer sk-0844fdc70dc94568b44d2101df07b50d'
                                        },
                                        body: JSON.stringify({
                                            model: 'deepseek-chat',
                                            messages: [{
                                                role: 'user',
                                                content: `è¯·åˆ†æè¿™ä¸ªé€‰æ‹©ï¼šé—®é¢˜ï¼š${questions[index].question}ï¼Œé€‰æ‹©ï¼š${this.textContent}ã€‚è¯·ç”¨æ¸©æš–ã€è¯—æ„çš„è¯­è¨€ï¼Œä»å¿ƒç†å­¦çš„è§’åº¦åˆ†æè¿™ä¸ªé€‰æ‹©åæ˜ äº†ä»€ä¹ˆæ ·çš„æ€§æ ¼ç‰¹ç‚¹æˆ–å†…å¿ƒä¸–ç•Œã€‚åˆ†æè¯·æ§åˆ¶åœ¨250å­—ä»¥å†…ã€‚åœ¨å›ç­”ä¸­é€‚å½“æ·»åŠ ä¸€äº›ç›¸å…³çš„emojiè¡¨æƒ…ï¼Œæ¯”å¦‚ğŸŒ²ğŸŒ¿ğŸƒğŸŒ™âœ¨ç­‰è‡ªç„¶ç›¸å…³çš„emojiã€‚`
                                            }]
                                        })
                                    });

                                    const data = await response.json();
                                    if (data.choices && data.choices[0]) {
                                        this.setAttribute('data-analysis', data.choices[0].message.content);
                                    } else {
                                        this.setAttribute('data-analysis', 'è§£æç”Ÿæˆä¸­...');
                                    }
                                } catch (error) {
                                    console.error('Error fetching analysis:', error);
                                    this.setAttribute('data-analysis', 'è§£æç”Ÿæˆä¸­...');
                                }

                                // æ˜¾ç¤ºè§£æ
                                setTimeout(() => {
                                    this.classList.remove('loading');
                                    this.classList.add('show-analysis');
                                }, 100);
                            });
                        });
                    }, 2000);
                });
            });

            // ç‚¹å‡»è¿”å›ç®­å¤´æ—¶éšè—å¤§å›¾å’Œé®ç½©
            returnArrow.addEventListener('click', function() {
                largeImageContainer.classList.remove('show');
                overlay.classList.remove('show');
                this.classList.remove('show');
            });
        }

        // é¡µé¢åŠ è½½æ—¶åˆ›å»ºå…ƒç´ 
        window.addEventListener('load', () => {
            createElements();
            createJourneyImages();
            // æ˜¾ç¤ºè¯—æ„æ–‡å­—
            setTimeout(() => {
                document.querySelector('.poetic-text').classList.add('show');
            }, 500);

            // è®¾ç½®å¹¶æ’­æ”¾èƒŒæ™¯éŸ³ä¹
            const backgroundMusic = document.getElementById('backgroundMusic');
            backgroundMusic.currentTime = 3; // ä»ç¬¬3ç§’å¼€å§‹æ’­æ”¾
            backgroundMusic.volume = 0.5;
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾
            const playMusic = async () => {
                try {
                    await backgroundMusic.play();
                } catch (error) {
                    console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œæ­£åœ¨é‡è¯•...');
                    setTimeout(playMusic, 1000); // 1ç§’åé‡è¯•
                }
            };
            
            playMusic();
        });

        // ç‚¹å‡»æŒ‰é’®è·³è½¬
        document.querySelector('.start-button').addEventListener('click', function() {
            // éšè—å¼€å§‹æŒ‰é’®å’Œè¯—æ„æ–‡å­—
            this.classList.add('hide');
            document.querySelector('.poetic-text').classList.remove('show');
            
            // æ·»åŠ è¿‡æ¸¡æ•ˆæœ
            document.querySelector('.background').classList.add('darken');
            document.querySelector('.foreground').classList.add('zoom');
            
            // ä¾æ¬¡æ˜¾ç¤ºå›¾ç‰‡
            const images = document.querySelectorAll('.journey-image');
            images.forEach((img, index) => {
                setTimeout(() => {
                    img.classList.add('show');
                }, index * 300); // æ¯300msæ˜¾ç¤ºä¸€å¼ å›¾ç‰‡
            });
            
            // æ˜¾ç¤ºç»§ç»­æŒ‰é’®
            setTimeout(() => {
                document.querySelector('.continue-button').classList.add('show');
            }, 2000); // 2ç§’åæ˜¾ç¤ºç»§ç»­æŒ‰é’®
        });

        // ç‚¹å‡»ç»§ç»­æŒ‰é’®è·³è½¬
        document.querySelector('.continue-button').addEventListener('click', function() {
            // æ·¡å‡ºèƒŒæ™¯éŸ³ä¹
            const backgroundMusic = document.getElementById('backgroundMusic');
            const fadeOutInterval = setInterval(() => {
                if (backgroundMusic.volume > 0.1) {
                    backgroundMusic.volume -= 0.1;
                } else {
                    backgroundMusic.pause();
                    clearInterval(fadeOutInterval);
                }
            }, 100);

            // æ¿€æ´»æ·¡å…¥é»‘è‰²æ•ˆæœ
            const overlay = document.querySelector('.fade-overlay');
            overlay.classList.add('active');
            
            // ç­‰å¾…æ¸å˜åŠ¨ç”»å®Œæˆåè·³è½¬
            setTimeout(() => {
                window.location.href = 'index2.html';
            }, 2000); // 2ç§’åè·³è½¬ï¼Œä¸CSSè¿‡æ¸¡æ—¶é—´åŒ¹é…
        });
    </script>
</body>
</html> 
